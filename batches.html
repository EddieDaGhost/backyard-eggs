<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Track egg batches and lay dates for maximum freshness. Batch numbers updated regularly.">
    <meta name="keywords" content="egg batches, fresh eggs, egg tracking, lay dates">
    <title>Batches - Backyard Eggs</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="site-title">Backyard Eggs</a>
            <button class="mobile-nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                ‚ò∞
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="meet-the-flockers.html">Meet The Flockers</a></li>
                <li><a href="chicken-fax.html">Chicken Fax</a></li>
                <li><a href="batches.html" class="active">Batches</a></li>
                <li><a href="reserve.html">Reserve</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="content-section">
            <h1>Batches üì¶</h1>
            <p><strong>Enjoy your eggs within 3-4 weeks of the lay dates for best quality!</strong></p>
            <p><em>Batch numbers will be updated regularly!</em></p>

            <h2>Current Batches</h2>

            <div id="batchesContainer">
                <p style="text-align: center; color: #666;">Loading batches...</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Backyard Eggs - Fresh from Our Flock to Your Table</p>
        <p>Made with ‚ù§Ô∏è for happy chickens and egg lovers</p>
    </footer>

    <script src="js/scripts.js"></script>
    <script>
        // Load batches dynamically from JSON
        async function loadBatches() {
            try {
                const response = await fetch('/data/batches.json?t=' + Date.now());
                const data = await response.json();
                const container = document.getElementById('batchesContainer');

                if (data.batches && data.batches.length > 0) {
                    container.innerHTML = data.batches
                        .filter(batch => batch.active)
                        .map(batch => `
                            <div class="batch-item">
                                <strong>#${batch.number}</strong> - Laid between <strong>${batch.startDate} - ${batch.endDate}</strong>
                            </div>
                        `).join('');
                } else {
                    container.innerHTML = '<p style="text-align: center; color: #666;">No batches available at the moment. Check back soon!</p>';
                }
            } catch (error) {
                console.error('Error loading batches:', error);
                document.getElementById('batchesContainer').innerHTML = '<p style="text-align: center; color: #dc3545;">Failed to load batches. Please try again later.</p>';
            }
        }

        // Load batches when page loads
        document.addEventListener('DOMContentLoaded', loadBatches);
    </script>
</body>
</html>
