<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fresh backyard eggs from happy, healthy chickens. Pay-what-you-can pricing with flexible payment options.">
    <meta name="keywords" content="backyard eggs, fresh eggs, local eggs, farm eggs, chicken eggs">
    <title>Home - Backyard Eggs</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="site-title">Backyard Eggs</a>
            <button class="mobile-nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                ‚ò∞
            </button>
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="meet-the-flockers.html">Meet The Flockers</a></li>
                <li><a href="chicken-fax.html">Chicken Fax</a></li>
                <li><a href="batches.html">Batches</a></li>
                <li><a href="reserve.html">Reserve</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero-section">
        <div class="hero-inner">
            <div class="hero-egg">ü•ö</div>
            <h1>Fresh from Our Flock,<br>Straight to Your Table</h1>
            <p>Happy, healthy backyard hens. Pay what you can ‚Äî every carton goes right back to the girls.</p>
        </div>
    </section>

    <main>
        <div class="content-section">
            <!-- Availability Banner -->
            <div id="availabilityBanner" class="availability-banner">
                <h3 id="availabilityTitle">Checking availability...</h3>
                <p id="availabilityMessage"></p>
                <a href="reserve.html" class="reserve-btn" id="reserveBtn" style="visibility: hidden;">Reserve Your Eggs</a>
            </div>

            <div class="payment-box" id="pricingBox">
                <h3>Pricing & Payment</h3>
                <p><strong>Suggested Donation:</strong> <span id="pricingAmount">$4 per carton</span></p>
                <p id="pricingDescription">Pay what you can! All proceeds go toward chicken care and feeding.</p>

                <p><strong>Payment Methods:</strong></p>
                <ul id="paymentMethodsList"></ul>
            </div>

            <h2>Egg Care & Handling</h2>

            <div class="care-grid">
                <div class="care-card">
                    <div class="care-icon">üß∫</div>
                    <h3>Storage</h3>
                    <div class="storage-options">
                        <div class="storage-option">
                            <span>‚ùÑÔ∏è Refrigerated</span>
                            <p>Up to <strong>4‚Äì5 weeks.</strong> Best for washed eggs.</p>
                        </div>
                        <div class="storage-option">
                            <span>üå°Ô∏è Room Temperature</span>
                            <p>Up to <strong>2‚Äì3 weeks</strong> ‚Äî unwashed, bloom intact.</p>
                        </div>
                    </div>
                </div>

                <div class="care-card">
                    <div class="care-icon">ü•£</div>
                    <h3>Float Test</h3>
                    <p style="font-size: 0.9rem; color: #555; margin-bottom: 0.75rem;">Place egg in a bowl of water:</p>
                    <ul class="freshness-list">
                        <li><span class="badge badge--fresh">Sinks flat</span> Very fresh (0‚Äì2 wks)</li>
                        <li><span class="badge badge--ok">Stands upright</span> Still good (2‚Äì3 wks)</li>
                        <li><span class="badge badge--old">Floats</span> Past prime ‚Äî discard</li>
                    </ul>
                </div>

                <div class="care-card">
                    <div class="care-icon">ü´ß</div>
                    <h3>Cleaning</h3>
                    <ul>
                        <li>Use <strong>warm water</strong> (warmer than the egg) to stop bacteria being drawn inside</li>
                        <li>Wipe gently with a soft cloth or brush</li>
                        <li>Preserve the natural <strong>bloom</strong> when possible ‚Äî it extends freshness</li>
                        <li><strong>Refrigerate immediately</strong> after washing</li>
                    </ul>
                </div>

                <div class="care-card">
                    <div class="care-icon">üç≥</div>
                    <h3>Food Safety</h3>
                    <ul>
                        <li><strong>Scrambled, fried, omelets</strong><br>Cook to <strong>160¬∞F (71¬∞C)</strong></li>
                        <li><strong>Hard-boiled</strong><br>Cook until whites and yolk are fully firm</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Backyard Eggs - Fresh from Our Flock to Your Table</p>
        <p>Made with ‚ù§Ô∏è for happy chickens and egg lovers</p>
    </footer>

    <script src="js/scripts.js"></script>
    <script>
        // Load pricing from content.json
        async function loadPricing() {
            try {
                const response = await fetch('/data/content.json');
                const data = await response.json();

                if (data.pricing) {
                    document.getElementById('pricingAmount').textContent = data.pricing.amount;
                    document.getElementById('pricingDescription').textContent = data.pricing.description;

                    // Build payment methods list
                    const methodsList = document.getElementById('paymentMethodsList');
                    methodsList.innerHTML = '';

                    if (data.pricing.paymentMethods.cash) {
                        methodsList.innerHTML += '<li>Cash</li>';
                    }
                    if (data.pricing.paymentMethods.zelle) {
                        methodsList.innerHTML += `<li>Zelle: <strong>${data.pricing.paymentMethods.zelle}</strong></li>`;
                    }
                    if (data.pricing.paymentMethods.venmo) {
                        methodsList.innerHTML += `<li>Venmo: <strong>${data.pricing.paymentMethods.venmo}</strong></li>`;
                    }
                }
            } catch (error) {
                console.error('Error loading pricing:', error);
            }
        }

        // Load availability status
        async function loadAvailability() {
            try {
                const response = await fetch('/data/batches.json');
                const data = await response.json();

                if (data.availability) {
                    const banner = document.getElementById('availabilityBanner');
                    const title = document.getElementById('availabilityTitle');
                    const message = document.getElementById('availabilityMessage');
                    const btn = document.getElementById('reserveBtn');

                    // Remove all status classes
                    banner.classList.remove('available', 'limited', 'soldout');

                    // Set status-specific content
                    if (data.availability.status === 'available') {
                        banner.classList.add('available');
                        title.textContent = '‚úÖ Fresh Eggs Available Now!';
                        btn.textContent = 'Reserve Your Eggs';
                        btn.href = 'reserve.html';
                    } else if (data.availability.status === 'limited') {
                        banner.classList.add('limited');
                        title.textContent = '‚ö†Ô∏è Limited Supply Available';
                        btn.textContent = 'Reserve Now';
                        btn.href = 'reserve.html';
                    } else if (data.availability.status === 'soldout') {
                        banner.classList.add('soldout');
                        title.textContent = '‚ùå Currently Sold Out';
                        btn.textContent = 'Join Waitlist';
                        btn.href = 'reserve.html';
                    }

                    // Set custom message if available
                    if (data.availability.message) {
                        message.textContent = data.availability.message;
                    }

                    // Reveal the button now that we know the status
                    btn.style.visibility = 'visible';
                }
            } catch (error) {
                console.error('Error loading availability:', error);
            }
        }

        // Load content when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadPricing();
            loadAvailability();
        });
    </script>
</body>
</html>
